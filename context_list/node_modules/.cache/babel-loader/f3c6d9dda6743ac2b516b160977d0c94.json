{"ast":null,"code":"var _jsxFileName = \"/Users/rafnaali/Desktop/Todo-list/BlueSky-project/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo, useReducer } from 'react';\nimport './App.css';\nimport Content from \"./Content\";\nimport { makeServer } from \"./server.js\";\nimport ToDoContext from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  makeServer();\n  const [state, dispatch] = useReducer((prevState, action) => {\n    switch (action.type) {\n      case \"LIST\":\n        return { ...prevState,\n          todosFcontext: action.value\n        };\n\n      case \"USER\":\n        return { ...prevState,\n          userFcontext: action.value\n        };\n\n      case \"STATUS\":\n        return { ...prevState,\n          statusFcontext: action.value\n        };\n\n      case \"LOADING\":\n        return { ...prevState,\n          isLoading: action.value\n        };\n\n      case \"EDIT\":\n        return { ...prevState,\n          editFcontext: action.value\n        };\n\n      case \"SELECT USER\":\n        return { ...prevState,\n          selectedUser: action.value\n        };\n\n      case \"DELETE\":\n        return { ...prevState,\n          deleteFcontext: action.value\n        };\n\n      default:\n    }\n  }, {\n    isLoading: 0,\n    todosFcontext: {},\n    userFcontext: [],\n    editFcontext: {},\n    selectedUser: \" \",\n    deleteFcontext: false,\n    statusFcontext: false\n  });\n  const todoContext = useMemo(() => ({\n    addTodo: async data => {\n      await fetch(\"api/todo/create\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          name: data.name,\n          isComplete: data.isComplete\n        })\n      }); // dispatch({type: \"LOADING\"});\n    },\n    listTodo: async data => {\n      dispatch({\n        type: \"LIST\",\n        value: data\n      });\n      console.log(state.todosFcontext);\n    },\n    listUser: async data => {\n      dispatch({\n        type: \"USER\",\n        value: data\n      });\n      console.log(state.userFcontext);\n    },\n    setIsLoading: async data => {\n      dispatch({\n        type: \"LOADING\",\n        value: data\n      });\n    },\n    editTodo: async id => {\n      await fetch(\"api/todo/\" + id, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(response => response.json()).then(json => dispatch({\n        type: \"EDIT\",\n        value: json.todo\n      }, dispatch({\n        type: \"SELECT USER\",\n        value: json.todo.userId\n      }, dispatch({\n        type: \"STATUS\",\n        value: json.todo.isComplete\n      }))));\n    },\n    setSelectedUser: async data => {\n      dispatch({\n        type: \"SELECT USER\",\n        value: data\n      });\n    },\n    statusTodo: async data => {\n      dispatch({\n        type: \"STATUS\",\n        value: data\n      });\n    },\n    deleteTodo: async id => {\n      await fetch(\"api/todo/\" + id + \"/delete\", {\n        method: \"DELETE\"\n      }).then(response => response.json()).then(json => dispatch({\n        type: \"DELETE\",\n        value: true\n      }));\n    },\n    closeDeleteSnackbar: async () => {\n      dispatch({\n        type: \"DELETE\",\n        value: false\n      });\n    }\n  }), [state.todosFcontext, state.userFcontext]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(ToDoContext.Provider, {\n        value: {\n          todoContext,\n          state,\n          dispatch\n        },\n        children: /*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"TnCcuUTaEdxCGgn+ToRFB5lQ/zY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/rafnaali/Desktop/Todo-list/BlueSky-project/src/App.js"],"names":["React","useMemo","useReducer","Content","makeServer","ToDoContext","App","state","dispatch","prevState","action","type","todosFcontext","value","userFcontext","statusFcontext","isLoading","editFcontext","selectedUser","deleteFcontext","todoContext","addTodo","data","fetch","method","body","JSON","stringify","name","isComplete","listTodo","console","log","listUser","setIsLoading","editTodo","id","headers","then","response","json","todo","userId","setSelectedUser","statusTodo","deleteTodo","closeDeleteSnackbar"],"mappings":"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","sourcesContent":["import React, {useMemo,useReducer } from 'react';\nimport './App.css'\nimport Content from \"./Content\";\n import {makeServer} from \"./server.js\";\nimport ToDoContext from './context'\n\nfunction App() {\n  makeServer();\n  const [state, dispatch] = useReducer(\n    (prevState, action) => {\n      switch (action.type) {\n        case \"LIST\":\n          return {\n            ...prevState,\n            todosFcontext: action.value,\n          };\n        case \"USER\":\n        return {\n          ...prevState,\n          userFcontext: action.value,\n        };\n        case \"STATUS\":\n          return{\n            ...prevState,\n            statusFcontext: action.value,\n        };\n        case \"LOADING\":\n        return {\n          ...prevState,\n          isLoading: action.value,\n        };\n        case \"EDIT\":\n        return {\n          ...prevState,\n          editFcontext: action.value,\n        };\n        case \"SELECT USER\":\n        return {\n          ...prevState,\n          selectedUser: action.value,\n        };\n        case \"DELETE\":\n        return {\n          ...prevState,\n          deleteFcontext: action.value,\n        };\n        \n        default:\n      \n      }\n    },\n    \n    {\n      isLoading: 0,\n      todosFcontext: {},\n      userFcontext:[],\n      editFcontext:{},\n      selectedUser:\" \",\n      deleteFcontext:false,\n      statusFcontext:false,\n    }\n  );\n  \n  const todoContext = useMemo(\n    () => ({\n      addTodo: async (data) => {\n        await fetch(\n            \"api/todo/create\",\n            {\n              method: \"POST\",\n              body: JSON.stringify(\n                {name:data.name, isComplete:data.isComplete}),\n            }\n          )\n          // dispatch({type: \"LOADING\"});\n      },\n\n      listTodo: async (data) => {\n      \n          dispatch({ type: \"LIST\", value:data });\n          console.log(state.todosFcontext)\n      },\n\n      listUser: async (data) => {\n      \n        dispatch({ type: \"USER\", value:data });\n        console.log(state.userFcontext)\n      },\n\n      setIsLoading: async (data) => {\n\n       dispatch({type: \"LOADING\", value:data});\n      },\n      editTodo: async (id) => {\n        await fetch(\"api/todo/\"+id, {\n            headers : { \n              'Content-Type': 'application/json',\n              'Accept': 'application/json'\n            }})\n            .then((response) => response.json())\n            .then((json) => dispatch({type: \"EDIT\", value:json.todo}, dispatch({type: \"SELECT USER\", value:json.todo.userId}, dispatch({type: \"STATUS\", value:json.todo.isComplete}))))\n      },\n\n      setSelectedUser: async (data) => {\n\n        dispatch({type: \"SELECT USER\", value:data});\n       },\n\n      statusTodo: async (data) => {\n        dispatch({type: \"STATUS\", value:data});\n      } ,\n\n      deleteTodo: async (id) => {\n        await fetch(\"api/todo/\"+id+\"/delete\", {\n          method: \"DELETE\"\n        }\n        )\n            .then((response) => response.json())\n            .then((json) => dispatch({type: \"DELETE\", value:true}))\n      },\n\n      closeDeleteSnackbar: async () => {\n        dispatch({type: \"DELETE\", value:false});\n      }\n    }),\n    [state.todosFcontext,state.userFcontext]\n  );\n  \n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n  <ToDoContext.Provider value={{todoContext, state, dispatch}}><Content /></ToDoContext.Provider>  \n      \n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}